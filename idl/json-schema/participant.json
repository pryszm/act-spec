{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.astra.dev/v1/participant.json",
  "title": "Participant",
  "description": "Conversation participant in ASTRA conversations",
  "type": "object",
  "required": ["id", "type"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for this participant"
    },
    "type": {
      "type": "string",
      "enum": ["human", "ai", "system", "bot"],
      "description": "Type of participant"
    },
    "role": {
      "type": "string",
      "description": "Business role of the participant (customer, agent, manager, etc.)"
    },
    "name": {
      "type": "string",
      "description": "Display name of the participant"
    },
    "email": {
      "type": "string",
      "format": "email",
      "description": "Email address of the participant"
    },
    "phone": {
      "type": "string",
      "description": "Phone number of the participant"
    },
    "external_id": {
      "type": "string",
      "description": "External system identifier for this participant"
    },
    "system": {
      "type": "string",
      "description": "External system that manages this participant"
    },
    "capabilities": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of capabilities this participant has"
    },
    "permissions": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of permissions granted to this participant"
    },
    "preferences": {
      "type": "object",
      "properties": {
        "language": {
          "type": "string",
          "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
          "description": "Preferred language code"
        },
        "timezone": {
          "type": "string",
          "description": "Preferred timezone (IANA timezone identifier)"
        },
        "communication_channels": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Preferred communication channels in order of preference"
        }
      },
      "additionalProperties": true,
      "description": "Participant preferences"
    },
    "metadata": {
      "type": "object",
      "description": "Additional participant metadata",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
